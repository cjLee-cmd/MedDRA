# MedDRA 증상-코드 검색 시스템 개요

## 목적

환자의 증상(예: "두통", "복통", "어지러움")을 입력하면 해당되는 MedDRA 표준 코드를 찾아주는 약물감시(Pharmacovigilance) 시스템을 구축하기 위한 참조 문서입니다.

## MedDRA란?

**MedDRA** (Medical Dictionary for Regulatory Activities)는 의약품 및 생물의약품 사용과 관련된 부작용(이상사례) 정보를 분류하기 위한 국제 표준 의학 용어 체계입니다.

- **버전**: 28.1 (2025년 9월)
- **언어**: 한국어
- **관리기관**: ICH (International Council for Harmonisation)
- **용도**: 임상시험, 약물감시, 규제 보고

## 핵심 개념: 5단계 계층 구조

MedDRA는 가장 넓은 범주에서 가장 구체적인 용어까지 5단계로 구성됩니다:

```
1. SOC (System Organ Class) - 기관계 분류
   └── 2. HLGT (High Level Group Term) - 상위 그룹 용어
       └── 3. HLT (High Level Term) - 상위 용어
           └── 4. PT (Preferred Term) - 선호 용어 ⭐ 주요 분류 레벨
               └── 5. LLT (Lowest Level Term) - 최하위 용어 ⭐ 검색용
```

### 각 레벨의 역할

| 레벨 | 한글명 | 개수 | 용도 | 예시 |
|------|--------|------|------|------|
| **SOC** | 기관계 분류 | 27개 | 신체 시스템별 최상위 분류 | "각종 위장관 장애" |
| **HLGT** | 상위 그룹 용어 | ~337개 | SOC 내 중분류 | "위장관 염증 병태" |
| **HLT** | 상위 용어 | ~1,739개 | 임상적 소분류 | "위염 및 식도염" |
| **PT** | 선호 용어 | ~27,163개 | **표준 코딩 레벨** | "급성 위염" |
| **LLT** | 최하위 용어 | ~90,471개 | **검색 및 매칭용** | "위 염증", "위염" |

## 증상 검색 워크플로우

```
사용자 입력: "배가 아파요"
    ↓
1. LLT 검색 (llt.asc)
   - "복통", "복부 통증", "위통" 등 유사 용어 찾기
   - 예: "복통" → LLT 코드 발견
    ↓
2. PT 매핑 (llt.asc의 pt_code 필드)
   - LLT → PT 변환
   - 예: LLT "복통" → PT "복통" (10000081)
    ↓
3. 계층 정보 조회 (mdhier.asc)
   - PT 코드로 전체 분류 경로 확인
   - 10000081 → HLT → HLGT → SOC
    ↓
결과:
- 코드: 10000081
- PT: 복통
- SOC: 각종 위장관 장애 (10017947)
```

## 데이터 파일 구조

```
MedDRA_28_1_Korean/
├── ascii-281/              # 핵심 데이터 파일
│   ├── llt.asc            # 최하위 용어 (90,471개) - 검색 시작점
│   ├── pt.asc             # 선호 용어 (27,163개) - 표준 코드
│   ├── hlt.asc            # 상위 용어 (1,739개)
│   ├── hlgt.asc           # 상위 그룹 용어 (337개)
│   ├── soc.asc            # 기관계 분류 (27개)
│   ├── mdhier.asc         # 전체 계층 관계 (42,221개)
│   ├── hlt_pt.asc         # HLT-PT 관계
│   ├── hlgt_hlt.asc       # HLGT-HLT 관계
│   ├── soc_hlgt.asc       # SOC-HLGT 관계
│   ├── smq_list.asc       # 표준화된 MedDRA 쿼리 목록
│   └── smq_content.asc    # SMQ-용어 매핑
├── seq-281/               # 변경 이력 추적
└── claude/                # 사용 가이드 (이 폴더)
```

## 파일 형식

- **구분자**: `$` (달러 기호)
- **인코딩**: UTF-8
- **헤더**: 없음 (첫 줄부터 데이터)
- **빈 필드**: 연속된 `$`로 표시

예시:
```
10000081$복통$$10017947$$$$$$$$
  ↑       ↑   ↑    ↑
 PT코드  용어명 빈필드 SOC코드
```

## 주요 사용 사례

### 1. 증상 → 코드 검색
환자가 "어지러움"을 호소 → LLT 검색 → PT 코드 반환

### 2. 코드 → 상세 정보
코드 10013573 입력 → 전체 계층 경로 및 한글명 반환

### 3. 관련 증상 탐색
"두통" PT → 같은 HLT 소속 다른 PT 찾기 (예: "편두통", "긴장성 두통")

### 4. SMQ 기반 검색
특정 의학적 상태 (예: "간 장애") → 관련된 모든 증상/용어 리스트

## 다음 문서

1. **[01_용어_검색.md](01_용어_검색.md)** - LLT/PT 검색 방법
2. **[02_계층_탐색.md](02_계층_탐색.md)** - 계층 구조 탐색
3. **[03_실전_예제.md](03_실전_예제.md)** - 실무 사용 예시
4. **[04_SMQ_활용.md](04_SMQ_활용.md)** - 표준 쿼리 활용
5. **[05_데이터_추출.md](05_데이터_추출.md)** - 데이터 파싱 및 추출

## 참고 문서

원본 문서 위치:
- `dist_file_format_28_1_Korean.pdf` - 파일 형식 상세 설명
- `intguide_28_1_Korean.pdf` - MedDRA 입문 가이드
- `SMQ_intguide_28_1_Korean.pdf` - SMQ 가이드
- `whatsnew_28_1_Korean.pdf` - 버전 28.1 변경사항
